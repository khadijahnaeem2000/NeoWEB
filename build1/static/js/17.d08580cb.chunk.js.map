{"version":3,"sources":["components/Directo/Directo.js"],"names":["ZoomMtg","setZoomJSLib","preLoadWasm","prepareWebSDK","i18n","load","reload","Directo","data","getLocalUserdata","sdkKey","meetingNumber","leaveUrl","window","location","href","userName","name","passWord","OpenJoinAudio","btn","document","getElementsByClassName","joinDialog","click","JoinAudioAuto","wait","callback","seconds","setTimeout","getSignature","fetch","method","headers","body","JSON","stringify","role","then","res","json","response","signature","token","getElementsByTagName","style","display","getElementById","init","success","console","log","join","userEmail","error","catch","useEffect"],"mappings":"qIAAA,qDAMAA,UAAQC,aAAa,oCAAqC,OAE1DD,UAAQE,cACRF,UAAQG,gBAGRH,UAAQI,KAAKC,KAAK,SAClBL,UAAQI,KAAKE,OAAO,SA4KLC,UA1KC,WACd,IAAMC,EAAOC,cAGTC,EAAS,uCACTC,EAAgB,aAEhBC,EAAWC,OAAOC,SAASC,KAC3BC,EAAW,KACG,OAAdR,EAAKS,OACPD,EAAWR,EAAKS,MAElB,IACIC,EAAW,SAmBf,SAASC,IACP,IAAIC,EAAMC,SAASC,uBAAuB,6BAA6B,GACnEC,EAAaF,SAASC,uBAAuB,eAAe,GAE5DF,IAAQG,GACVH,EAAII,OAIP,CAED,SAASC,IACP,IAAIL,EAAMC,SAASC,uBACjB,gCACA,GAEEF,GACFA,EAAII,OAIP,CAED,IAAME,EAAO,SAACC,EAAUC,GACtB,OAAOf,OAAOgB,WAAWF,EAAoB,IAAVC,EACpC,EAED,SAASE,IACPC,MAzDsB,sCAyDG,CACvBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBzB,cAAeA,EACf0B,KAAM,MAGPC,MAAK,SAACC,GAAD,OAASA,EAAIC,MAAb,IACLF,MAAK,SAACG,GAuDX,IAAsBC,IAtDHD,EAASE,MAuD1BtB,SAASuB,qBAAqB,UAAU,GAAGC,MAAMC,QAAU,OAC3DzB,SAAS0B,eAAe,cAAcF,MAAMC,QAAU,QAEtD9C,UAAQgD,KAAK,CACXpC,SAAUA,EACVqC,QAAS,SAACA,GACRC,QAAQC,IAAI,MACZnD,UAAQoD,KAAK,CACXV,UAAWA,EACX/B,cAAeA,EACfK,SAAUA,EACVN,OAAQA,EACR2C,UAAW,GACXnC,SAAUA,EACV+B,QAAS,SAACA,GAzHF5B,SAASC,uBACrB,gCACA,IAKAI,EAAKP,EAAe,IAFpBO,EAAKD,EAAe,GAsHf,EACD6B,MAAO,SAACA,GACNJ,QAAQC,IAAIG,EACb,GAEJ,EACDA,MAAO,SAACA,GACNJ,QAAQC,IAAIG,EACb,GA9EA,IACAC,OAAM,SAACD,GACNJ,QAAQI,MAAMA,EACf,GACJ,CA4FD,OAdAE,qBAAU,WAWR1B,GACD,GAAE,IAEI,uBACR,C","file":"static/js/17.d08580cb.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { ZoomMtg } from \"@zoom/meetingsdk\";\r\n\r\nimport { getLocalUserdata } from \"../../services/auth/localStorageData\";\r\nimport \"./styles.css\";\r\n\r\nZoomMtg.setZoomJSLib(\"https://source.zoom.us/3.8.10/lib\", \"/av\");\r\n\r\nZoomMtg.preLoadWasm();\r\nZoomMtg.prepareWebSDK();\r\n\r\n// loads language files, also passes any error messages to the ui\r\nZoomMtg.i18n.load(\"es-ES\");\r\nZoomMtg.i18n.reload(\"es-ES\");\r\n\r\nconst Directo = () => {\r\n  const data = getLocalUserdata();\r\n\r\n  var signatureEndpoint = \"https://neoestudio.net/api/JwtToken\";\r\n  var sdkKey = \"ejMUC7sZJxrReEZ4iLrllWD4iYqM9W6tOqpS\";\r\n  var meetingNumber = \"4269760334\";\r\n  var role = 0;\r\n  var leaveUrl = window.location.href;\r\n  var userName = null;\r\n  if (data.name !== null) {\r\n    userName = data.name;\r\n  }\r\n  var userEmail = \"\";\r\n  var passWord = \"Ehkuc2\";\r\n  // pass in the registrant's token if meeting or webinar requires registration.\r\n  var registrantToken = \"\";\r\n\r\n  function HideJoinAudio() {\r\n    let joinBtn = document.getElementsByClassName(\r\n      \"join-audio-by-voip__join-btn\"\r\n    )[0];\r\n\r\n    if (joinBtn) {\r\n      wait(JoinAudioAuto, 0.5);\r\n    } else {\r\n      wait(OpenJoinAudio, 0.5);\r\n      wait(JoinAudioAuto, 0.5);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  function OpenJoinAudio() {\r\n    let btn = document.getElementsByClassName(\"join-audio-container__btn\")[0];\r\n    let joinDialog = document.getElementsByClassName(\"join-dialog\")[0];\r\n\r\n    if (btn && !joinDialog) {\r\n      btn.click();\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  function JoinAudioAuto() {\r\n    let btn = document.getElementsByClassName(\r\n      \"join-audio-by-voip__join-btn\"\r\n    )[0];\r\n\r\n    if (btn) {\r\n      btn.click();\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  const wait = (callback, seconds) => {\r\n    return window.setTimeout(callback, seconds * 1000);\r\n  };\r\n\r\n  function getSignature() {\r\n    fetch(signatureEndpoint, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        meetingNumber: meetingNumber,\r\n        role: 0,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((response) => {\r\n        startMeeting(response.token);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  const listenForAudioButtonNode = (params, callback) => {\r\n    new MutationObserver(function (mutations) {\r\n      const el = document.querySelector(params.className);\r\n\r\n      if (el) {\r\n        this.disconnect();\r\n        callback(el);\r\n      }\r\n    }).observe(params.parent || document, {\r\n      subtree: true,\r\n      childList: true,\r\n    });\r\n  };\r\n\r\n  const autoAudioJoin = (audioButton) => {\r\n    const config = {\r\n      attributes: true,\r\n      childList: true,\r\n      attributeOldValue: true,\r\n      subtree: true,\r\n    };\r\n\r\n    const canClick = (oldValue) => {\r\n      return (\r\n        oldValue ===\r\n        \"zm-btn join-audio-by-voip__join-btn zm-btn--primary zm-btn__outline--white zm-btn--lg\"\r\n      );\r\n    };\r\n\r\n    const isJoined = (oldValue) => {\r\n      return oldValue === \"display: inline-block;\";\r\n    };\r\n    const observer = new MutationObserver((mutations) => {\r\n      mutations.forEach((mutation) => {\r\n        if (canClick(mutation.oldValue)) {\r\n          // When join button becomes clickable.\r\n          audioButton.click();\r\n        } else if (isJoined(mutation.oldValue)) {\r\n          // When connected to audio.\r\n          observer.disconnect();\r\n        }\r\n      });\r\n    });\r\n\r\n    observer.observe(audioButton, config);\r\n  };\r\n\r\n  function startMeeting(signature) {\r\n    document.getElementsByTagName(\"header\")[0].style.display = \"none\";\r\n    document.getElementById(\"zmmtg-root\").style.display = \"block\";\r\n\r\n    ZoomMtg.init({\r\n      leaveUrl: leaveUrl,\r\n      success: (success) => {\r\n        console.log(\"kk\");\r\n        ZoomMtg.join({\r\n          signature: signature,\r\n          meetingNumber: meetingNumber,\r\n          userName: userName,\r\n          sdkKey: sdkKey,\r\n          userEmail: \"\",\r\n          passWord: passWord,\r\n          success: (success) => {\r\n            HideJoinAudio();\r\n          },\r\n          error: (error) => {\r\n            console.log(error);\r\n          },\r\n        });\r\n      },\r\n      error: (error) => {\r\n        console.log(error);\r\n      },\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    {\r\n      /*listenForAudioButtonNode(\r\n      {\r\n        className: '.zm-btn.zm-btn--primary.zm-btn__outline--white.zm-btn--lg',\r\n        parent: document.getElementById('zmmtg-root'),  // SETUP your own zoom root DOM element name here\r\n        recursive: false\r\n      },\r\n      element => autoAudioJoin(element)\r\n    );*/\r\n    }\r\n    getSignature();\r\n  }, []);\r\n\r\n  return <div></div>;\r\n};\r\n\r\nexport default Directo;\r\n"],"sourceRoot":""}